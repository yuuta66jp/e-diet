<div class="main container">
  <div class="form edit">
    <div class="row">
      <div class="col-xs-12 center">
        <h1 class="new_meal">食事記録編集画面</h1>
        <%= form_with model: @meal_record, local: true do |f| %>
        <!-- エラーメッセージの部分テンプレート(f.objectで@meal_recordをmodelに渡す) -->
        <%= render 'layouts/error_messages', model: f.object %>
        <div class="form-group row">
          <div class="col-xs-4 col-xs-offset-2">
            <%= attachment_image_tag @meal_record, :meal_image, size: "150x150", class: "img-rounded", fallback: "no_image1.jpg" %>
            <%= f.attachment_field :meal_image %>
          </div>
          <div class="col-xs-4 title">
            <%= f.label :食事のタイトル %><br>
            <%= f.text_field :title, autofocus:true, autocomplete: "title", class: "form-control"  %>
            <div class="form-group row">
              <div class="col-xs-12">
                <%= f.label :内容 %><br>
                <%= f.text_area :body, autocomplete: "body", class: "form-control" %>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-xs-12">
                <%= f.label :いつ食べましたか %><br>
                <%= f.select :intake_status, MealRecord.intake_statuses.keys.to_a, prompt: "選択してください", class: "form-control"  %>
              </div>
            </div>
            <%= f.submit "更新する", class: "btn btn-success" %>
            <%= link_to "削除する", meal_record_path(@meal_record), method: :delete, class: "btn btn-danger" %>
          </div>
        </div>
        <% end %>
      </div>
    </div>
    <div class="back center">
      <%= link_to "戻る", 'javascript:history.back()', class: "btn btn-info btn-sm" %>
    </div>
  </div>
</div>
